define("local_setcheck/create_template",["jquery","core/ajax"],(function($){return{init:function(){const formElements=$(".mform input, .mform select, mform textarea"),form=$(".mform"),saveButton=form.find("#id_save_template_button");function markTouched(element){element.attr("data-touched","true")}formElements.each((function(){const element=$(this);element.on("change",(function(){markTouched(element)})),(element.is(":checkbox")||element.is(":radio"))&&element.on("click",(function(){markTouched(element)}))})),form.on("submit",(function(e){e.preventDefault()})),saveButton.on("click",(function(e){e.preventDefault(),console.log("Custom save button clicked. Default form submission prevented.");let formData={};formElements.each((function(){const element=$(this);if("true"===element.attr("data-touched")){const settingName=element.attr("id").replace("id_","");formData[settingName]=element.val()}})),formData.template_name=form.find('input[name="template_name"]').val();const queryParams=function(){const params={};return new URLSearchParams(window.location.search).forEach(((value,key)=>{params[key]=value})),params}();formData={...formData,...queryParams},$.ajax({url:"/moodle/local/setcheck/pages/create_template.php",method:"POST",data:formData,success:function(response){const responseData=JSON.parse(response);responseData.redirect?window.location.href=responseData.redirect:responseData.error&&console.error(responseData.error)},error:function(xhr,status,error){console.error("An error occurred:",error)}})}))}}}));

//# sourceMappingURL=create_template.min.js.map