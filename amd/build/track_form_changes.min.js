define("local_setcheck/track_form_changes",["jquery","core/ajax"],(function($){return{init:function(){const formElements=$("#create_template_form input, #create_template_form select, #create_template_form textarea"),form=$("#create_template_form"),submitButton=form.find('button[name="save_template_button"]');function markTouched(element){element.attr("data-touched","true")}formElements.each((function(){const element=$(this);element.on("change",(function(){markTouched(element)})),(element.is(":checkbox")||element.is(":radio"))&&element.on("click",(function(){markTouched(element)}))})),submitButton.on("click",(function(event){event.preventDefault();let formData={};formElements.each((function(){const element=$(this);if("true"===element.attr("data-touched")){const settingName=element.attr("id").replace("id_","");formData[settingName]=element.val()}})),formData.template_name=form.find('input[name="template_name"]').val(),console.log(formData),$.ajax({url:form.attr("action"),method:"POST",data:formData,success:function(response){try{const responseData=JSON.parse(response);responseData.redirect?window.location.href=responseData.redirect:responseData.error&&console.error(responseData.error)}catch(e){console.error("Error parsing JSON response:",e),console.error("Response received:",response)}},error:function(xhr,status,error){console.log("An error occurred while saving the template."),console.log("Status:",status),console.log("Error:",error),console.log("Response:",xhr.responseText)}})}))}}}));

//# sourceMappingURL=track_form_changes.min.js.map